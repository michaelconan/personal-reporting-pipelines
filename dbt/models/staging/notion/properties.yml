version: 2

models:
  - name: stg_notion__daily_habits
    description: "Unique daily habits from the Notion habit tracker."
    columns:
      - name: page_id
        description: "The primary key for this table"
        data_type: varchar
        data_tests:
          - not_null
          - unique
      - name: database_id
        description: "The ID of the parent database."
        data_type: varchar
        data_tests:
          - not_null
      - name: page_date
        description: "The date of the habit entry."
        data_type: date
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "date '2020-01-01'"
                max_value: "date '2030-12-31'"
      - name: page_name
        description: "The name of the habit entry."
        data_type: varchar
        data_tests:
          - not_null
      - name: did_devotional
        description: "Whether the devotional habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_journal
        description: "Whether the journal habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_prayer
        description: "Whether the prayer habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_read_bible
        description: "Whether the read bible habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_workout
        description: "Whether the workout habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_language
        description: "Whether the language habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: created_at
        description: "The date the page was created."
        data_type: timestamp
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "timestamp '2020-01-01'"
                max_value: "timestamp '2030-12-31'"
      - name: updated_at
        description: "The date the page was last edited."
        data_type: timestamp
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "timestamp '2020-01-01'"
                max_value: "timestamp '2030-12-31'"

  - name: stg_notion__weekly_habits
    description: "Unique weekly habits from the Notion habit tracker."
    columns:
      - name: page_id
        description: "The primary key for this table"
        data_type: varchar
        data_tests:
          - not_null
          - unique
      - name: database_id
        description: "The ID of the parent database."
        data_type: varchar
        data_tests:
          - not_null
      - name: page_date
        description: "The date of the habit entry."
        data_type: date
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "date '2020-01-01'"
                max_value: "date '2030-12-31'"
      - name: page_name
        description: "The name of the habit entry."
        data_type: varchar
        data_tests:
          - not_null
      - name: did_fast
        description: "Whether the fast habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: prayer_minutes
        description: "The number of minutes spent in prayer."
        data_type: varchar
        data_tests:
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: 0
                max_value: 30
                row_condition: "prayer_minutes is not null"
      - name: screen_minutes
        description: "The number of minutes spent on screen."
        data_type: integer
        data_tests:
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: 500
                max_value: 1500
                row_condition: "screen_minutes is not null"
      - name: did_church
        description: "Whether the church habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_community
        description: "Whether the community habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: created_at
        description: "The date the page was created."
        data_type: timestamp
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "timestamp '2020-01-01'"
                max_value: "timestamp '2030-12-31'"
      - name: updated_at
        description: "The date the page was last edited."
        data_type: timestamp
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "timestamp '2020-01-01'"
                max_value: "timestamp '2030-12-31'"

  - name: stg_notion__monthly_habits
    description: "Unique monthly habits from the Notion habit tracker."
    columns:
      - name: page_id
        description: "The primary key for this table"
        data_type: varchar
        data_tests:
          - not_null
          - unique
      - name: database_id
        description: "The ID of the parent database."
        data_type: varchar
        data_tests:
          - not_null
      - name: page_date
        description: "The date of the habit entry."
        data_type: date
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "date '2020-01-01'"
                max_value: "date '2030-12-31'"
      - name: page_name
        description: "The name of the habit entry."
        data_type: varchar
        data_tests:
          - not_null
      - name: did_budget
        description: "Whether the budget habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_serve
        description: "Whether the serve habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_travel
        description: "Whether the travel habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: did_blog
        description: "Whether the blog habit was completed."
        data_type: boolean
        data_tests:
          - not_null
      - name: created_at
        description: "The date the page was created."
        data_type: timestamp
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "timestamp '2020-01-01'"
                max_value: "timestamp '2030-12-31'"
      - name: updated_at
        description: "The date the page was last edited."
        data_type: timestamp
        data_tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              arguments:
                min_value: "timestamp '2020-01-01'"
                max_value: "timestamp '2030-12-31'"
